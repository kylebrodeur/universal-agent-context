{
  "name": "uacs-enhanced",
  "version": "0.2.0",
  "description": "Universal Agent Context System - Enhanced with multi-hook integration for real-time storage and automatic context injection",
  "author": "Kyle Brodeur",
  "repository": "https://github.com/kylebrodeur/universal-agent-context",
  "license": "MIT",

  "hooks": {
    "SessionStart": [
      {
        "matcher": "resume",
        "hooks": [
          {
            "type": "command",
            "command": "python3 .claude-plugin/hooks/uacs_inject_context.py",
            "async": false,
            "timeout": 10,
            "description": "Inject previous context when resuming session"
          }
        ]
      }
    ],

    "PostToolUse": [
      {
        "matcher": "Bash|Edit|Write|Read|Grep",
        "hooks": [
          {
            "type": "command",
            "command": "python3 .claude-plugin/hooks/uacs_store_realtime.py",
            "async": true,
            "timeout": 5,
            "description": "Store tool usage incrementally (real-time, survives crashes)"
          }
        ]
      }
    ],

    "SessionEnd": [
      {
        "matcher": "other",
        "hooks": [
          {
            "type": "command",
            "command": "python3 .claude-plugin/hooks/uacs_store.py",
            "async": true,
            "timeout": 10,
            "description": "Finalize and index full session (backup storage)"
          }
        ]
      }
    ],

    "PreCompact": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python3 .claude-plugin/hooks/uacs_precompact.py",
            "async": false,
            "timeout": 5,
            "description": "Trigger UACS compression before Claude compacts context"
          }
        ]
      }
    ]
  },

  "skills": [
    {
      "name": "UACS Context Management",
      "path": ".claude-plugin/skills/uacs_context.md",
      "description": "Instructions for using UACS to retrieve stored context"
    }
  ],

  "mcpServers": {
    "uacs": {
      "command": "uacs",
      "args": ["serve"],
      "description": "UACS MCP server for context retrieval and management",
      "optional": true
    }
  },

  "dependencies": {
    "python": ">=3.11",
    "packages": [
      "universal-agent-context>=0.1.0"
    ]
  },

  "configuration": {
    "storage_path": ".state/context",
    "auto_store": true,
    "real_time_storage": true,
    "context_injection_on_resume": true,
    "compression": true,
    "deduplication": true,
    "max_context_injection_tokens": 2000
  },

  "features": {
    "real_time_storage": {
      "enabled": true,
      "description": "Incremental storage via PostToolUse hook (survives crashes)"
    },
    "context_injection": {
      "enabled": true,
      "description": "Automatic context injection on session resume"
    },
    "session_finalization": {
      "enabled": true,
      "description": "Full session storage on SessionEnd (backup)"
    },
    "pre_compact_compression": {
      "enabled": true,
      "description": "Trigger UACS compression before Claude compacts"
    }
  }
}
